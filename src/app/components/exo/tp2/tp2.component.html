<h3>TP2: Exercice du Mastermind</h3>

<p>Voici un jeu du MasterMind: vous devez trouver une combinaison de 4 couleurs parmi les 7 proposées.</p>
<p>Essayez de la trouver en moins de 10 essais. Pour commencer un nouveau jeu, commencez par cliquer sur le bouton "Nouvelle partie".</p>
<p>Bon amusement !</p>

<h4>Couleurs disponibles pour le jeu</h4>
<div>
    <table class="tab2">
        <tr>
            <td *ngFor="let color of tabColor" id="color"> {{ color }} </td>
        </tr>
        <tr class="ligne">
            <td class="case1">1</td>
            <td class="case2">2</td>
            <td class="case3">3</td>
            <td class="case4">4</td>
            <td class="case5">5</td>
            <td class="case6">6</td>
            <td class="case7">7</td>
        </tr>
    </table>
</div>
<br>

<p>Soluce 1 : {{ soluce1.color }} </p>
<p>Soluce 2 : {{ soluce2.color }} </p>
<p>Soluce 3 : {{ soluce3.color }} </p>
<p>Soluce 4 : {{ soluce4.color }} </p>

<div *ngIf="inGame" >
    <p>Nombre d'essais restants : {{ (10 - compteur) }} </p>
    <p>Votre dernière combinaison :</p>
    <table class="tab">
        <tr class="ligne">
            <td *ngFor="let prop of tabPropose " [ngStyle]=" { 'background-color' : prop.color } "
            [ngClass]="{
                'correct' : prop.status == 'correct',
                'uncorrect': prop.status == 'uncorrect',
                'false' : prop.status == 'false' }" 
            > {{ prop.color }} </td>
        </tr>
    </table>
</div>

<div *ngIf="playerWin">
    <p>Bravo, vous avez gagné la partie !</p>
    <p>Vous avez utilisé {{ compteur }} essais. Pourquoi ne pas essayer de s'améliorer ? </p>
</div>

<div *ngIf="wrongPlace">
    <p>Vous n'avez pas la bonne solution. Recommencez !</p>
</div>

<div *ngIf="endGame">
    <p>Vous avez utilisé vos 10 essais. Game Over !</p>
    <p>La solution :</p>
    <table class="tab">
        <tr class="ligne">
            <td [ngStyle]=" { 'background-color' : soluce1.color } " > {{ soluce1.color }} </td>
            <td [ngStyle]=" { 'background-color' : soluce2.color } " > {{ soluce2.color }} </td>
            <td [ngStyle]=" { 'background-color' : soluce3.color } " > {{ soluce3.color }} </td>
            <td [ngStyle]=" { 'background-color' : soluce4.color } " > {{ soluce4.color }} </td>
        </tr>
    </table>
</div>
<br>

<div>
    <table class="tab">
        <tr class="ligne">
            <td [ngStyle]="{'background-color': color1.color}"
                [ngClass]="{
                'correct' : color1.status == 'correct',
                'uncorrect': color1.status == 'uncorrect',
                'false' : color1.status == 'false' }">Couleur 1</td>
            <td [ngStyle]="{'background-color': color2.color}"
                [ngClass]="{
                'correct' : color2.status == 'correct', 
                'uncorrect': color2.status == 'uncorrect',
                'false' : color2.status == 'false'}">Couleur 2</td>
            <td [ngStyle]="{'background-color': color3.color}"
                [ngClass]="{
                'correct' : color3.status == 'correct', 
                'uncorrect': color3.status == 'uncorrect',
                'false' : color3.status == 'false'}">Couleur 3</td>
            <td [ngStyle]="{'background-color': color4.color}"
                [ngClass]="{
                'correct' : color4.status == 'correct', 
                'uncorrect': color4.status == 'uncorrect',
                'false' : color4.status == 'false'}">Couleur 4</td>
        </tr>
        <tr class="ligne">
            <td class="case">
                <select [(ngModel)]="color1.color" (change)="touched()" >
                    <option *ngFor="let color of tabColor"> {{ color }} </option>
                </select>
            </td>
            <td class="case">
                <select [(ngModel)]="color2.color" (change)="touched()" >  
                    <option *ngFor="let color of tabColor"> {{ color }} </option>
                </select>
            </td>
            <td class="case">
                <select [(ngModel)]="color3.color" (change)="touched()" >
                    <option *ngFor="let color of tabColor"> {{ color }} </option>
                </select>
            </td>
            <td class="case">
                <select [(ngModel)]="color4.color" (change)="touched()" >
                    <option *ngFor="let color of tabColor"> {{ color }} </option>
                </select>
            </td>
        </tr>
    </table>

    <button (click)="reset()">Reset</button>
    <button (click)="valid()">Valider</button>
    <button (click)="ngOnInit()" (click)="newGame()" >Nouvelle partie</button>
</div>





